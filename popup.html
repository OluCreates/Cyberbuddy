<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>CyberBuddy</title>
    <style>
      :root{
        --bg1:#0b1220; --bg2:#111a2e;
        --card:#121c33; --accent:#39d0ff; --ok:#2ecc71; --warn:#f1c40f; --bad:#e74c3c;
        --text:#e8f0ff; --muted:#9bb0d1;
      }
      *{box-sizing:border-box}
      body{
        margin:0; padding:14px; width:360px;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
        color:var(--text);
        background: radial-gradient(120% 120% at 0% 0%, var(--bg2), var(--bg1));
      }
      .title { display:flex; align-items:center; gap:8px; margin-bottom:10px; }
      .logo { width:22px; height:22px; border-radius:6px; background:linear-gradient(135deg, #0ff, #08f); box-shadow:0 0 12px rgba(56,200,255,.4); }
      h3 { margin:0; font-weight:600; letter-spacing:.3px; }
      .card{ background:var(--card); border:1px solid #1e2a44; border-radius:12px; padding:12px; box-shadow:0 4px 18px rgba(0,0,0,.25); margin-bottom:10px;}
      .row{ display:flex; gap:8px; flex-wrap:wrap; margin-top:6px; }
      .pill{ padding:4px 8px; border-radius:999px; background:#0f1a30; color:var(--muted); border:1px solid #203152; font-size:12px }
      .verdict{ font-weight:600; margin-bottom:6px }
      .v-green{ color:var(--ok) } .v-yellow{ color:var(--warn) } .v-red{ color:var(--bad) } .v-none{ color:var(--muted) }
      ul{ margin:6px 0 0 18px; padding:0 }
      button{
        width:100%; margin-top:10px; padding:10px 12px;
        background:linear-gradient(135deg, #0bd7ff, #0a84ff);
        color:white; border:none; border-radius:10px; cursor:pointer;
        font-weight:600;
        box-shadow:0 6px 18px rgba(10,132,255,.3);
        display:flex; align-items:center; justify-content:center; gap:8px;
      }
      button:disabled{ opacity:.7; cursor:default }
      button:active{ transform:translateY(1px) }
      .muted{ color:var(--muted); font-size:12px; margin-top:6px }
      .spinner { width:14px; height:14px; border:2px solid rgba(255,255,255,.35); border-top-color:#fff; border-radius:50%; animation:spin .8s linear infinite }
      @keyframes spin { to { transform: rotate(360deg) } }

      .history{ max-height:150px; overflow:auto; display:flex; flex-direction:column; gap:6px; }
      .hist-item{ display:flex; gap:8px; align-items:center; padding:8px; border-radius:10px; background:#0e1930; border:1px solid #203152; }
      .dot{ width:10px; height:10px; border-radius:50%; }
      .dot.green{ background:#2ecc71 } .dot.yellow{ background:#f1c40f } .dot.red{ background:#e74c3c }
      .link{ color:#9bd5ff; text-decoration:none; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:230px; }
      .small{ font-size:11px; color:#9bb0d1 }
    </style>
  </head>
  <body>
    <div class="title"><div class="logo"></div><h3>CyberBuddy</h3></div>

    <div class="card">
      <div id="scanning" class="small" style="display:none"></div>
      <div id="verdict" class="verdict v-none">No scan yet</div>
      <div id="pills" class="row"></div>
      <ul id="reasons"></ul>
      <div id="note" class="muted"></div>
      <button id="scan"><span id="spin" class="spinner" style="display:none"></span><span id="scantext">Scan this page</span></button>
    </div>

    <div class="card">
      <div class="verdict v-none">Scan History</div>
      <div id="history" class="history"></div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
